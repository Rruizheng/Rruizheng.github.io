(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{428:function(s,t,a){"use strict";a.r(t);var n=a(14),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"this详细解读"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#this详细解读"}},[s._v("#")]),s._v(" this详细解读")]),s._v(" "),t("p",[s._v("this的5种绑定方式：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("默认绑定(非严格模式下this指向全局对象, 严格模式下this会绑定到undefined)")])]),s._v(" "),t("li",[t("p",[s._v("隐式绑定(当函数引用有上下文对象时, 如 obj.foo()的调用方式, foo内的this指向obj)")]),s._v(" "),t("ul",[t("li",[s._v("隐式丢失场景")])])]),s._v(" "),t("li",[t("p",[s._v("显示绑定(通过call()或者apply()方法直接指定this的绑定对象, 如foo.call(obj))")])]),s._v(" "),t("li",[t("p",[s._v("new绑定")])]),s._v(" "),t("li",[t("p",[s._v("箭头函数绑定(this的指向由外层作用域决定的)")])]),s._v(" "),t("li",[t("p",[s._v("如果把var改成了let 或者 const，变量是不会被绑定到window上的")])])]),s._v(" "),t("h3",{attrs:{id:"默认绑定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#默认绑定"}},[s._v("#")]),s._v(" 默认绑定")]),s._v(" "),t("p",[s._v("在非严格模式下this指向的是全局对象window，而在严格模式下会绑定到undefined。")]),s._v(" "),t("h3",{attrs:{id:"隐式绑定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#隐式绑定"}},[s._v("#")]),s._v(" 隐式绑定")]),s._v(" "),t("ul",[t("li",[s._v("有两种情况容易发生隐式丢失问题：\n"),t("ul",[t("li",[s._v("使用另一个变量来给函数取别名")]),s._v(" "),t("li",[s._v("将函数作为参数传递时会被隐式赋值，回调函数丢失this绑定")])])]),s._v(" "),t("li",[s._v("如果你把一个函数当成参数传递到另一个函数的时候，也会发生隐式丢失的问题，且与包裹着它的函数的this指向无关。在非严格模式下，会把该函数的this绑定到window上，严格模式下绑定到undefined。")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doFoo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("fn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" obj "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" foo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doFoo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Window{...}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doFoo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("fn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" obj "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" foo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" obj2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" doFoo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nobj2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doFoo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// { a:3, doFoo: f }")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"显式绑定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显式绑定"}},[s._v("#")]),s._v(" 显式绑定")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("使用.call()或者.apply()的函数是会直接执行的")])]),s._v(" "),t("li",[t("p",[s._v("bind()是创建一个新的函数，需要手动调用才会执行")])]),s._v(" "),t("li",[t("p",[s._v(".call()和.apply()用法基本类似，不过call接收若干个参数，而apply接收的是一个数组")])]),s._v(" "),t("li",[t("p",[s._v("如果call、apply、bind接收到的第一个参数是空或者null、undefined的话，则会忽略这个参数。")])]),s._v(" "),t("li",[t("p",[s._v("this 永远指向最后调用它的那个对象")])]),s._v(" "),t("li",[t("p",[s._v("匿名函数的this永远指向window")])]),s._v(" "),t("li",[t("p",[s._v("使用.call()或者.apply()的函数是会直接执行的")])]),s._v(" "),t("li",[t("p",[s._v("bind()是创建一个新的函数，需要手动调用才会执行")])]),s._v(" "),t("li",[t("p",[s._v("如果call、apply、bind接收到的第一个参数是空或者null、undefined的话，则会忽略这个参数")])]),s._v(" "),t("li",[t("p",[s._v("forEach、map、filter函数的第二个参数也是能显式绑定this的")])])]),s._v(" "),t("h3",{attrs:{id:"apply、bind-和-call"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#apply、bind-和-call"}},[s._v("#")]),s._v(" "),t("code",[s._v("apply")]),s._v("、"),t("code",[s._v("bind")]),s._v(" 和 "),t("code",[s._v("call")])]),s._v(" "),t("p",[t("code",[s._v("apply")]),s._v("、"),t("code",[s._v("bind")]),s._v(" 和 "),t("code",[s._v("call")]),s._v(" 都是 JavaScript 中用于改变函数执行上下文的方法。它们的参数和使用场景有所不同。")]),s._v(" "),t("ol",[t("li",[t("p",[t("code",[s._v("apply")]),s._v(" 方法：")]),s._v(" "),t("ul",[t("li",[s._v("参数：接受两个参数，第一个参数是要绑定给函数的对象，第二个参数是一个数组或类数组对象，包含要传递给函数的参数。")]),s._v(" "),t("li",[s._v("使用场景：当希望在一个特定的对象上调用一个函数，并且该函数的参数以数组形式给出时，可以使用 "),t("code",[s._v("apply")]),s._v(" 方法。")]),s._v(" "),t("li",[s._v("区别：与 "),t("code",[s._v("call")]),s._v(" 方法相比，"),t("code",[s._v("apply")]),s._v(" 方法接受参数的方式不同，它接受一个数组或类数组对象作为参数。")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("bind")]),s._v(" 方法：")]),s._v(" "),t("ul",[t("li",[s._v("参数：接受一个参数，即要绑定给函数的对象。可以在绑定时提供其他参数，这些参数将作为绑定函数的参数传递。")]),s._v(" "),t("li",[s._v("使用场景：当希望创建一个新的函数，并将指定的对象绑定为该函数的执行上下文时，可以使用 "),t("code",[s._v("bind")]),s._v(" 方法。绑定后的函数可以作为回调函数或在稍后执行。")]),s._v(" "),t("li",[s._v("区别："),t("code",[s._v("bind")]),s._v(" 和 "),t("code",[s._v("call")]),s._v(" 的区别是方法会返回一个新的函数，而不是立即执行绑定的函数。")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("call")]),s._v(" 方法：")]),s._v(" "),t("ul",[t("li",[s._v("参数：接受一个参数，即要绑定给函数的对象。之后可以传递任意数量的参数，这些参数将作为函数的参数传递。")]),s._v(" "),t("li",[s._v("使用场景：当希望在一个特定的对象上调用一个函数，并且该函数的参数以逗号分隔的方式给出时，可以使用 "),t("code",[s._v("call")]),s._v(" 方法。")]),s._v(" "),t("li",[s._v("区别：与 "),t("code",[s._v("apply")]),s._v(" 方法相比，"),t("code",[s._v("call")]),s._v(" 方法接受参数的方式不同，它接受逗号分隔的参数列表。")])])])]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("参考\nhttps://juejin.cn/post/6844904083707396109")])])}),[],!1,null,null,null);t.default=e.exports}}]);