<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>performance Entry | Rr&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="my blog">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.f589b1fd.css" as="style"><link rel="preload" href="/assets/js/app.63e6572e.js" as="script"><link rel="preload" href="/assets/js/2.5853c661.js" as="script"><link rel="preload" href="/assets/js/1.e5f7b0b7.js" as="script"><link rel="preload" href="/assets/js/32.88a2dec6.js" as="script"><link rel="prefetch" href="/assets/js/10.4e15d136.js"><link rel="prefetch" href="/assets/js/11.36d5b72d.js"><link rel="prefetch" href="/assets/js/12.ce9d641c.js"><link rel="prefetch" href="/assets/js/13.f252ed01.js"><link rel="prefetch" href="/assets/js/14.0e4bb1db.js"><link rel="prefetch" href="/assets/js/15.611b4a46.js"><link rel="prefetch" href="/assets/js/16.7b6314c3.js"><link rel="prefetch" href="/assets/js/17.2de5fef7.js"><link rel="prefetch" href="/assets/js/18.8edb1f0c.js"><link rel="prefetch" href="/assets/js/19.0f686215.js"><link rel="prefetch" href="/assets/js/20.b723be56.js"><link rel="prefetch" href="/assets/js/21.f0730c6b.js"><link rel="prefetch" href="/assets/js/22.0e61f47d.js"><link rel="prefetch" href="/assets/js/23.a626f674.js"><link rel="prefetch" href="/assets/js/24.1eb131bc.js"><link rel="prefetch" href="/assets/js/25.a304b8c8.js"><link rel="prefetch" href="/assets/js/26.78ace1d6.js"><link rel="prefetch" href="/assets/js/27.e390597c.js"><link rel="prefetch" href="/assets/js/28.f74f60d6.js"><link rel="prefetch" href="/assets/js/29.2db0ceaa.js"><link rel="prefetch" href="/assets/js/3.27b60221.js"><link rel="prefetch" href="/assets/js/30.ab8c6391.js"><link rel="prefetch" href="/assets/js/31.fb08fe0c.js"><link rel="prefetch" href="/assets/js/33.a215c628.js"><link rel="prefetch" href="/assets/js/34.f7dcdc40.js"><link rel="prefetch" href="/assets/js/35.2c79727f.js"><link rel="prefetch" href="/assets/js/36.320c4085.js"><link rel="prefetch" href="/assets/js/37.ef0e6a38.js"><link rel="prefetch" href="/assets/js/38.425ff37c.js"><link rel="prefetch" href="/assets/js/39.fb2d1ec3.js"><link rel="prefetch" href="/assets/js/4.a2dcb89c.js"><link rel="prefetch" href="/assets/js/40.73dd4d6c.js"><link rel="prefetch" href="/assets/js/41.a82aa888.js"><link rel="prefetch" href="/assets/js/42.1356c985.js"><link rel="prefetch" href="/assets/js/43.a2da7d19.js"><link rel="prefetch" href="/assets/js/44.4b390834.js"><link rel="prefetch" href="/assets/js/45.de05d68c.js"><link rel="prefetch" href="/assets/js/46.858bcc53.js"><link rel="prefetch" href="/assets/js/47.e9bdfdd4.js"><link rel="prefetch" href="/assets/js/48.fcd51222.js"><link rel="prefetch" href="/assets/js/49.c8f68d9c.js"><link rel="prefetch" href="/assets/js/5.c7463708.js"><link rel="prefetch" href="/assets/js/50.3a90bdf2.js"><link rel="prefetch" href="/assets/js/51.f0659f9f.js"><link rel="prefetch" href="/assets/js/52.d7b62681.js"><link rel="prefetch" href="/assets/js/53.3b108e72.js"><link rel="prefetch" href="/assets/js/54.5a3e5a59.js"><link rel="prefetch" href="/assets/js/55.7d06b7d6.js"><link rel="prefetch" href="/assets/js/56.65aa266d.js"><link rel="prefetch" href="/assets/js/57.e5e57a35.js"><link rel="prefetch" href="/assets/js/58.bfd523d9.js"><link rel="prefetch" href="/assets/js/59.a8d998eb.js"><link rel="prefetch" href="/assets/js/6.00ce6dd1.js"><link rel="prefetch" href="/assets/js/60.437165cf.js"><link rel="prefetch" href="/assets/js/61.f326ef58.js"><link rel="prefetch" href="/assets/js/62.38f3a4df.js"><link rel="prefetch" href="/assets/js/63.6bb8eadf.js"><link rel="prefetch" href="/assets/js/64.6665a418.js"><link rel="prefetch" href="/assets/js/65.95efdd65.js"><link rel="prefetch" href="/assets/js/66.813cbf1d.js"><link rel="prefetch" href="/assets/js/67.86b3baff.js"><link rel="prefetch" href="/assets/js/68.29b9fab5.js"><link rel="prefetch" href="/assets/js/69.aea273e4.js"><link rel="prefetch" href="/assets/js/7.0b10c3db.js"><link rel="prefetch" href="/assets/js/70.14482414.js"><link rel="prefetch" href="/assets/js/71.06593dc0.js"><link rel="prefetch" href="/assets/js/72.802f5fc2.js"><link rel="prefetch" href="/assets/js/73.1b02b75c.js"><link rel="prefetch" href="/assets/js/74.e5e1105e.js"><link rel="prefetch" href="/assets/js/75.a005acaf.js"><link rel="prefetch" href="/assets/js/76.d0a45c84.js"><link rel="prefetch" href="/assets/js/77.f58c2a23.js"><link rel="prefetch" href="/assets/js/78.cb51e0f7.js"><link rel="prefetch" href="/assets/js/79.4ce1a629.js"><link rel="prefetch" href="/assets/js/80.318927ea.js"><link rel="prefetch" href="/assets/js/81.b32882b3.js"><link rel="prefetch" href="/assets/js/82.da12ea28.js"><link rel="prefetch" href="/assets/js/83.d37bcd2b.js"><link rel="prefetch" href="/assets/js/84.c8296be2.js"><link rel="prefetch" href="/assets/js/85.21f72ba2.js"><link rel="prefetch" href="/assets/js/86.2ef9983c.js"><link rel="prefetch" href="/assets/js/87.a09638cb.js"><link rel="prefetch" href="/assets/js/88.df1154e8.js"><link rel="prefetch" href="/assets/js/89.faa49b1e.js"><link rel="prefetch" href="/assets/js/90.9d3b3002.js"><link rel="prefetch" href="/assets/js/91.c65648c6.js"><link rel="prefetch" href="/assets/js/92.421d4739.js"><link rel="prefetch" href="/assets/js/93.628bfb4c.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d8b3a8c6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f589b1fd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Rr's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  总览
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skill/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/skill/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/skill/js/" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/skill/web/" class="nav-link router-link-active">
  Web
</a></li></ul></li><li class="dropdown-item"><h4>
          框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skill/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/skill/nodejs/" class="nav-link">
  NodeJS
</a></li></ul></li><li class="dropdown-item"><h4>
          笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skill/notes/" class="nav-link">
  项目笔记
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          工程规范
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/business/standard/common.html" class="nav-link">
  通用规范
</a></li></ul></li><li class="dropdown-item"><h4>
          构建
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/build/babel/" class="nav-link">
  babel
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          实用工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skill/tools/" class="nav-link">
  实用工具
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  总览
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skill/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/skill/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/skill/js/" class="nav-link">
  JS
</a></li><li class="dropdown-subitem"><a href="/skill/web/" class="nav-link router-link-active">
  Web
</a></li></ul></li><li class="dropdown-item"><h4>
          框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skill/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/skill/nodejs/" class="nav-link">
  NodeJS
</a></li></ul></li><li class="dropdown-item"><h4>
          笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skill/notes/" class="nav-link">
  项目笔记
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          工程规范
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/business/standard/common.html" class="nav-link">
  通用规范
</a></li></ul></li><li class="dropdown-item"><h4>
          构建
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/build/babel/" class="nav-link">
  babel
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          实用工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/skill/tools/" class="nav-link">
  实用工具
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Web</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/skill/web/tcpip.html" class="sidebar-link">TCP/IP 以及三次握手四次挥手</a></li><li><a href="/skill/web/history.html" class="sidebar-link">history</a></li><li><a href="/skill/web/performanceEntry.html" aria-current="page" class="active sidebar-link">performance Entry</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skill/web/performanceEntry.html#performance-api" class="sidebar-link">Performance API</a></li><li class="sidebar-sub-header"><a href="/skill/web/performanceEntry.html#performance-entry-2" class="sidebar-link">Performance Entry</a></li></ul></li><li><a href="/skill/web/puppeteer.html" class="sidebar-link">Puppeteer使用</a></li><li><a href="/skill/web/前端性能监控.html" class="sidebar-link">前端性能监控方案</a></li><li><a href="/skill/web/nginx.html" class="sidebar-link">Nginx代理/反代理</a></li><li><a href="/skill/web/websocket.html" class="sidebar-link">WebSocket</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="performance-entry"><a href="#performance-entry" class="header-anchor">#</a> performance Entry</h1> <blockquote><p>Performance API 是前端性能监控中常用的API，下面对Performance API中的Performance Entry相关要点做一个梳理介绍</p></blockquote> <h2 id="performance-api"><a href="#performance-api" class="header-anchor">#</a> Performance API</h2> <p>Performance API最主要的作用就是支持应用程序中客户端的延时测量。</p> <p>那么Performance API的时间测量与Date对象的时间定义有什么区别呢？</p> <ol><li>精度不同</li></ol> <ul><li>Performance API 是高采样率的，因为其精确度可达千分之一毫秒（受硬件或软件限制）</li> <li>Date 对象则基于 Unix Time Stamp，即自1970年1月1日（UTC）起经过的毫秒数</li></ul> <ol start="2"><li>Performance API 支持单调时钟</li></ol> <ul><li>使用 Date.now() 的差值并非绝对精确，因为计算时间时受系统限制（可能阻塞），有可能会出现 Time1 - Time2 是负值的情况</li> <li>performance.now() 方法返回一个<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/DOMHighResTimeStamp" target="_blank" rel="noopener noreferrer">DOMHighResTimeStamp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,其时间是以恒定速率递增的，不受系统时间的影响（系统时间可被人为或软件调整）</li></ul> <h2 id="performance-entry-2"><a href="#performance-entry-2" class="header-anchor">#</a> Performance Entry</h2> <h3 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h3> <ul><li>PerformanceEntry 对象代表了 performance 时间列表中的单个 metric 数据.</li> <li>每一个性能条目都可以在应用运行过程中通过手动构建 mark （en-US）或者 measure （en-US）（例如调用mark()方法）生成。</li> <li>Performance entries 在资源加载的时候，也会被动生成（例如图片、script、css等资源加载）</li> <li>Entries初始150个限制，可通过以下两个API修改
<ul><li>修改上限：setResourceTimingBufferSize(your_number);</li> <li>清除当前保存的Entries：clearResourceTimings()</li></ul></li></ul> <h3 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h3> <ul><li>resource entry 结构如下</li></ul> <p><img src="/assets/img/1.d967fe2d.png" alt="image.png"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>connectEnd：连接结束时间
connectStart：连接开始时间
decodedBodySize：解码的主体大小
domComplete：dom 渲染完成时间
domContentLoadedEventEnd：dom 内容加载事件结束时间
domContentLoadedEventStart：dom 内容加载事件开始时间
domInteractive：dom 交互时间
domainLookupEnd：域查找结束时间
domainLookupStart：域查找开始时间
duration：事件耗时
encodedBodySize：编码主体大小
entryType：资源输入类型
fetchStart：获取资源开始时间
initiatorType：发起人类型
loadEventEnd：加载事件结束时间
loadEventStart：加载事件开始时间
name：这里一般就是当前请求的 url 的地址
nextHopProtocol：下一个跳转协议
redirectCount：重定向次数
redirectEnd：重定向开始时间，如果没有重定向，值为0
redirectStart：重定向结束时间，如果没有重定向，值为0
requestStart：请求开始时间
responseEnd：响应结束时间
responseStart：响应开始时间
secureConnectionStart：安全连接开始时间
serverTiming：服务器时间
startTime：开始时间
transferSize：传递大小
type：该事件的类型
unloadEventEnd：卸载事件结束时间
unloadEventStart：卸载事件开始时间
workerStart：worker 开始时间
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="获取entry的方法"><a href="#获取entry的方法" class="header-anchor">#</a> 获取Entry的方法</h3> <h4 id="performance-getentries"><a href="#performance-getentries" class="header-anchor">#</a> performance.getEntries()</h4> <ul><li><p>浏览器获取网页时，会对网页中每一个对象（脚本文件、样式表、图片文件等等）发出一个HTTP请求。performance.getEntries方法以数组形式，返回这些请求的时间统计信息，有多少个请求，返回数组就会有多少个成员。</p></li> <li><p>transferSize: 资源大小，支持浏览器：Chrome 53 以上，可能出现为0的情况</p> <ul><li>原因：如果从本地缓存中获取资源，或者它是跨域资源，则此属性返回零。</li> <li>启用CORS时，除非服务器的访问策略允许共享这些值，否则许多这些值将返回零。这要求服务器提供资源以发送Timing-Allow-Origin HTTP响应标头，并提供一个值，该值指定允许获得受限时间戳值的一个或多个起源。</li> <li>从网页本身以外的其他域加载资源时，默认情况下返回为0的属性：redirectStart，redirectEnd，domainLookupStart，domainLookupEnd，connectStart，connectEnd，secureConnectionStart，requestStart和responseStart。</li></ul></li></ul> <h4 id="performance-getentriesbytype-type"><a href="#performance-getentriesbytype-type" class="header-anchor">#</a> performance.getEntriesByType(type)</h4> <ul><li>getEntriesByType()  方法返回给定类型的 PerformanceEntry 列表</li> <li>performance.getEntriesByType(&quot;resource&quot;)方法为每个请求的资源获取一个资源定时对象数组</li> <li>entryType</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>- &quot;mark&quot;	PerformanceMark	User Timing	
- &quot;measure&quot;	PerformanceMeasure	User Timing	
- &quot;navigation&quot;	PerformanceNavigationTiming	Navigation Timing 2	work in progress
- &quot;frame&quot;	PerformanceFrameTiming	Frame Timing	work in progress
- &quot;resource&quot;	PerformanceResourceTiming	Resource Timing	work in progress
- &quot;server&quot;	PerformanceServerTiming	Server Timing	work in progress
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="performance-getentriesbyname-name-type"><a href="#performance-getentriesbyname-name-type" class="header-anchor">#</a> performance.getEntriesByName(name, type)</h4> <ul><li>getEntriesByName()方法返回一个给定名称和name和type属性的PerformanceEntry对象数组</li></ul> <h3 id="标记与测算"><a href="#标记与测算" class="header-anchor">#</a> 标记与测算</h3> <h4 id="performance-mark-name"><a href="#performance-mark-name" class="header-anchor">#</a> performance.mark(name)</h4> <p>根据给出 name 值，在浏览器的性能输入缓冲区中创建一个相关的时间戳</p> <h4 id="performance-measure-name-startmark-endmark"><a href="#performance-measure-name-startmark-endmark" class="header-anchor">#</a> performance.measure(name, startMark, endMark)</h4> <p>这里接收三个参数：</p> <p>name：测量的名字
startMark：测量的开始标志名字（也可以是 PerformanceTiming 属性的名称）
endMark：测量的结束标志名字（也可以是 PerformanceTiming 属性的名称）</p> <blockquote><p>一般来说，performance.mark, performance.measure组合使用，例子如下</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 标记开始
performance.mark(&quot;myTimestart&quot;);
// ...
dosometing();
// 标记结束
performance.mark(&quot;myTimeend&quot;);

// 标记开始点和结束点之间的时间戳
performance.measure(
    &quot;myTime&quot;,
    &quot;myTimestart&quot;,
    &quot;myTimeend&quot;
);

// 获取所有名称为myTime的measures
var measures = performance.getEntriesByName(&quot;myTime&quot;);
var measure = measures[0];
console.log(&quot;myTime milliseconds:&quot;, measure.duration);

// 清除标记
performance.clearMarks();
performance.clearMeasures();
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/skill/web/history.html" class="prev">
        history
      </a></span> <span class="next"><a href="/skill/web/puppeteer.html">
        Puppeteer使用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.63e6572e.js" defer></script><script src="/assets/js/2.5853c661.js" defer></script><script src="/assets/js/1.e5f7b0b7.js" defer></script><script src="/assets/js/32.88a2dec6.js" defer></script>
  </body>
</html>
